<script>
    let isPopupVisible = false;

    function showPopup() {
        isPopupVisible = true;
    }

    function hidePopup() {
        isPopupVisible = false;
    }
</script>

<div class="p-6 sm:p-10 sm:pb-24 my-auto bg-gray-950" id="contact">
    <section
        class="mx-auto max-w-7xl md:rounded-md md:border md:border-sky-500/30 md:shadow-lg"
    >
        <div class="grid grid-cols-4 lg:grid-cols-3">
            <div
                class="col-span-4 bg-gradient-to-br from-gray-950 to-gray-950 px-8 py-10 text-gray-200 md:col-span-2 md:border-r md:border-sky-500/30 md:px-10 md:py-12 lg:col-span-1"
            >
                <h2 class="mb-8 text-2xl font-black text-gray-200">
                    Contact me
                </h2>
                <ul>
                    <li class="mb-12 flex items-start text-left">
                        <svg
                            class="shrink-0 mr-6 text-2xl text-sky-500"
                            xmlns="http://www.w3.org/2000/svg"
                            aria-hidden="true"
                            role="img"
                            width="1em"
                            height="1em"
                            preserveAspectRatio="xMidYMid meet"
                            viewBox="0 0 24 24"
                            ><path
                                fill="currentColor"
                                d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5l-8-5V6l8 5l8-5v2z"
                            /></svg
                        >
                        <div>
                            <a
                                class="cursor-pointer font-serif text-base md:text-lg text-gray-200 hover:text-sky-500 transition-colors"
                                href="mailto:thesadjadahmed@gmail.com"
                                >thesadjadahmed@gmail.com</a
                            >
                            <span class="block text-xs uppercase text-gray-400"
                                >email</span
                            >
                        </div>
                    </li>
                    <li class="my-12 flex items-center text-left">
                        <svg
                            class="shrink-0 mr-6 text-2xl text-sky-500 animate-spin"
                            xmlns="http://www.w3.org/2000/svg"
                            aria-hidden="true"
                            role="img"
                            width="1em"
                            height="1em"
                            preserveAspectRatio="xMidYMid meet"
                            viewBox="0 0 24 24"
                            ><path
                                fill="currentColor"
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19c-.14.75-.42 1-.68 1.03c-.58.05-1.02-.38-1.58-.75c-.88-.58-1.38-.94-2.23-1.5c-.99-.65-.35-1.01.22-1.59c.15-.15 2.71-2.48 2.76-2.69a.2.2 0 0 0-.05-.18c-.06-.05-.14-.03-.21-.02c-.09.02-1.49.95-4.22 2.79c-.4.27-.76.41-1.08.4c-.36-.01-1.04-.2-1.55-.37c-.63-.2-1.12-.31-1.08-.66c.02-.18.27-.36.74-.55c2.92-1.27 4.86-2.11 5.83-2.51c2.78-1.16 3.35-1.36 3.73-1.36c.08 0 .27.02.39.12c.1.08.13.19.14.27c-.01.06.01.24 0 .38z"
                            /></svg
                        >
                        <div>
                            <a
                                class="cursor-pointer font-serif text-base md:text-lg text-gray-200 hover:text-sky-500 transition-colors"
                                href="https://t.me/SajjadKadhumi"
                                >@SajjadKadhumi</a
                            >
                            <span class="block text-xs uppercase text-gray-400"
                                >telegram</span
                            >
                        </div>
                    </li>
                    <li class="my-12 flex items-center text-left">
                        <svg
                            class="shrink-0 mr-6 text-2xl text-sky-500"
                            xmlns="http://www.w3.org/2000/svg"
                            aria-hidden="true"
                            role="img"
                            width="1em"
                            height="1em"
                            preserveAspectRatio="xMidYMid meet"
                            viewBox="0 0 24 24"
                            ><path
                                fill="currentColor"
                                fill-rule="evenodd"
                                d="M1 2.838A1.838 1.838 0 0 1 2.838 1H21.16A1.837 1.837 0 0 1 23 2.838V21.16A1.838 1.838 0 0 1 21.161 23H2.838A1.838 1.838 0 0 1 1 21.161V2.838Zm8.708 6.55h2.979v1.496c.43-.86 1.53-1.634 3.183-1.634c3.169 0 3.92 1.713 3.92 4.856v5.822h-3.207v-5.106c0-1.79-.43-2.8-1.522-2.8c-1.515 0-2.145 1.089-2.145 2.8v5.106H9.708V9.388Zm-5.5 10.403h3.208V9.25H4.208v10.54ZM7.875 5.812a2.063 2.063 0 1 1-4.125 0a2.063 2.063 0 0 1 4.125 0Z"
                                clip-rule="evenodd"
                            /></svg
                        >
                        <div>
                            <a
                                class="cursor-pointer font-serif text-base md:text-lg text-gray-200 hover:text-sky-500 transition-colors"
                                href="https://www.linkedin.com/in/sajjad-al-kadhumi/"
                                >Sajjad Ahmed</a
                            >
                            <span class="block text-xs uppercase text-gray-400"
                                >LinkedIn</span
                            >
                        </div>
                    </li>
                </ul>
            </div>
            <div
                class="order-first col-span-4 max-w-3xl bg-gray-950 px-8 py-10 md:order-last md:col-span-2 md:px-10 md:py-12 cursor-not-allowed"
                role="button"
                tabindex="0"
                onclick={showPopup}
                onkeydown={(e) => e.key === "Enter" && showPopup()}
            >
                <h2 class="mb-8 text-2xl font-black text-gray-200">
                    Get in touch
                </h2>
                <p
                    class="mt-2 mb-4 font-sans text-sm tracking-normal text-gray-400"
                >
                    Don't be shy to ask me a question.
                </p>
                <form action="" onsubmit={(e) => e.preventDefault()}>
                    <div class="md:col-gap-4 mb-5 grid md:grid-cols-2">
                        <input
                            class="col-span-1 w-full border-b border-gray-600 bg-transparent py-3 text-sm text-gray-200 outline-none focus:border-b-2 focus:border-sky-500 pointer-events-none"
                            type="text"
                            placeholder="Name"
                            name="name"
                        />
                        <input
                            class="col-span-1 w-full border-b border-gray-600 bg-transparent py-3 text-sm text-gray-200 outline-none focus:border-b-2 focus:border-sky-500 pointer-events-none"
                            type="email"
                            placeholder="Email"
                            name="email"
                        />
                    </div>
                    <textarea
                        class="mb-10 w-full resize-y whitespace-pre-wrap border-b border-gray-600 bg-transparent py-3 text-sm text-gray-200 outline-none focus:border-b-2 focus:border-sky-500 pointer-events-none"
                        id=""
                        rows="6"
                        placeholder="Question"
                        name="question"
                    ></textarea>
                    <button
                        type="button"
                        class="group flex cursor-pointer items-center rounded-xl bg-sky-500 hover:bg-sky-600 bg-none px-8 py-4 text-center font-semibold leading-tight text-white transition-colors"
                    >
                        Send
                        <svg
                            class="group-hover:ml-8 ml-4 transition-all"
                            xmlns="http://www.w3.org/2000/svg"
                            aria-hidden="true"
                            role="img"
                            width="1em"
                            height="1em"
                            preserveAspectRatio="xMidYMid meet"
                            viewBox="0 0 24 24"
                            ><path
                                fill="none"
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M9.912 12H4L2.023 4.135A.662.662 0 0 1 2 3.995c-.022-.721.772-1.221 1.46-.891L22 12L3.46 20.896c-.68.327-1.464-.159-1.46-.867a.66.66 0 0 1 .033-.186L3.5 15"
                            /></svg
                        >
                    </button>
                </form>
            </div>

            {#if isPopupVisible}
                <div
                    class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm"
                    role="button"
                    tabindex="0"
                    onclick={hidePopup}
                    onkeydown={(e) => e.key === "Escape" && hidePopup()}
                >
                    <div
                        class="mx-4 max-w-md rounded-xl border border-sky-500/30 bg-gray-950 p-8 shadow-2xl"
                        role="dialog"
                        tabindex="-1"
                        onclick={(e) => e.stopPropagation()}
                        onkeydown={() => {}}
                    >
                        <div class="mb-4 flex justify-center">
                            <svg
                                class="text-6xl text-sky-500 animate-pulse"
                                xmlns="http://www.w3.org/2000/svg"
                                aria-hidden="true"
                                role="img"
                                width="1em"
                                height="1em"
                                preserveAspectRatio="xMidYMid meet"
                                viewBox="0 0 24 24"
                                ><path
                                    fill="currentColor"
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19c-.14.75-.42 1-.68 1.03c-.58.05-1.02-.38-1.58-.75c-.88-.58-1.38-.94-2.23-1.5c-.99-.65-.35-1.01.22-1.59c.15-.15 2.71-2.48 2.76-2.69a.2.2 0 0 0-.05-.18c-.06-.05-.14-.03-.21-.02c-.09.02-1.49.95-4.22 2.79c-.4.27-.76.41-1.08.4c-.36-.01-1.04-.2-1.55-.37c-.63-.2-1.12-.31-1.08-.66c.02-.18.27-.36.74-.55c2.92-1.27 4.86-2.11 5.83-2.51c2.78-1.16 3.35-1.36 3.73-1.36c.08 0 .27.02.39.12c.1.08.13.19.14.27c-.01.06.01.24 0 .38z"
                                /></svg
                            >
                        </div>
                        <h3
                            class="mb-4 text-center text-2xl font-black text-gray-200"
                        >
                            I hate emails ðŸ˜­
                        </h3>
                        <p class="mb-6 text-center font-sans text-gray-400">
                            Please contact me on Telegram instead!
                        </p>
                        <div class="flex justify-center">
                            <a
                                href="https://t.me/SajjadKadhumi"
                                class="group flex cursor-pointer items-center rounded-xl bg-sky-500 hover:bg-sky-600 px-8 py-3 text-center font-semibold text-white transition-colors"
                            >
                                Message on Telegram
                                <svg
                                    class="group-hover:ml-4 ml-2 transition-all"
                                    xmlns="http://www.w3.org/2000/svg"
                                    aria-hidden="true"
                                    role="img"
                                    width="1em"
                                    height="1em"
                                    preserveAspectRatio="xMidYMid meet"
                                    viewBox="0 0 24 24"
                                    ><path
                                        fill="currentColor"
                                        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19c-.14.75-.42 1-.68 1.03c-.58.05-1.02-.38-1.58-.75c-.88-.58-1.38-.94-2.23-1.5c-.99-.65-.35-1.01.22-1.59c.15-.15 2.71-2.48 2.76-2.69a.2.2 0 0 0-.05-.18c-.06-.05-.14-.03-.21-.02c-.09.02-1.49.95-4.22 2.79c-.4.27-.76.41-1.08.4c-.36-.01-1.04-.2-1.55-.37c-.63-.2-1.12-.31-1.08-.66c.02-.18.27-.36.74-.55c2.92-1.27 4.86-2.11 5.83-2.51c2.78-1.16 3.35-1.36 3.73-1.36c.08 0 .27.02.39.12c.1.08.13.19.14.27c-.01.06.01.24 0 .38z"
                                    /></svg
                                >
                            </a>
                        </div>
                    </div>
                </div>
            {/if}
        </div>
    </section>
</div>
